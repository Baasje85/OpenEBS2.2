{% extends "base.html" %}
{% load static floppyforms i18n %}

 {% block title %}{% trans "Nieuw scenariobericht" %}{% endblock %}

{% block content %}
{{ form.scenario }}
<h3>Bericht voor scenario <em>{{ scenario.name }}</em></h3>
<div class="row">
    {% include "openebs/snippet_halte-picker.html" %}
    <div class="col-lg-4">
        <h2>Bericht</h2>
        <form method="post" class="form" action="{% url "scenario_msg_add" scenario.pk %}">
            <div class="control-group">
                <label>{% trans "Haltes" %}</label>
                <p class="form-control-static" id="halte-list"><em class="help">{% trans "Klik haltenamen om een selectie te maken" %}</em></p><br />
                <input type="hidden" id="haltes" name="haltes">
            </div>
            <div class="clearfix"></div>
            {% csrf_token %}
            {% form form using "floppyforms/layouts/bootstrap_vertical.html" %}
            <div class="form-group">
                    <button type="submit" class="btn btn-primary">{% trans "Toevoegen" %}</button>
            </div>
        </form>
    </div>
</div>

{% endblock %}

{% block extra_js %}<script src="{% static 'js/add_msg.js' %}"></script>{% endblock %}

{% block js_init %}
        loadStopsFromField()
        $('#line_search').on('keyup', changeSearch);
        $( "body" ).on('click', ".line", showStops);
        $( "body" ).on('click', ".stop", selectStop);
        $( "body" ).on('click', ".stop-remove", selectionRemoveStop);
        $( "body" ).on('click', ".stop.success", lineRemoveStop);
        $( "body" ).on('click', ".stop-both", selectStopBoth);
        $( "body" ).on('click', ".stop-left", selectStopLeft);
        $( "body" ).on('click', ".stop-right", selectStopRight);
{% endblock %}